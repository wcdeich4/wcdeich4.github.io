(()=>{"use strict";class f{static isUndefinedOrNullOrEmptyOrWhitespace(t){return typeof t>"u"||null===t||0===t.trim().length}static isNumeric(t){return/^-?[\d.]+(?:e-?\d+)?$/.test(t)}}let c=(()=>{class o{}return o.DefaultNumericTolerance=5e-5,o.DefaultStringInputDelimeter=" ",o})();class a extends c{constructor(t,e){super(),this.x=t??0,this.y=e??0}getPerpendicularClockwise(){return new a(this.y,-this.x)}getPerpendicularCounterClockwise(){return new a(-this.y,this.x)}dotProduct(t){return this.x*t.x+this.y*t.y}add(t){this.x+=t.x,this.y+=t.y}getSumWith(t){const e=this.clone();return e.add(t),e}subtract(t){this.x-=t.x,this.y-=t.y}getDifferenceWith(t){const e=this.clone();return e.subtract(t),e}multiplyByScalar(t){this.x*=t,this.y*=t}divideByScalar(t){this.x/=t,this.y/=t}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceTo(t){return this.getDifferenceWith(t).magnitude()}normalize(){const t=this.magnitude();this.x=this.x/t,this.y=this.y/t}getMidPointWithAnotherVector(t){const e=this.clone();return e.add(t),e.multiplyByScalar(.5),e}getWeightedAverageWithAnotherVector(t,e,s){const n=this.clone();n.multiplyByScalar(t);const r=e.clone();return r.multiplyByScalar(s),n.add(r),n}equals(t){return!(typeof t>"u"||null==t)&&t instanceof a&&this.x===t.x&&this.y===t.y}clone(){return new a(this.x,this.y)}setFromDelimetedString(t){return this.setFromDelimetedStringWithNumericTolerance(t,c.DefaultStringInputDelimeter,c.DefaultNumericTolerance)}setFromDelimetedStringWithNumericTolerance(t,e,s){let n="";if(f.isUndefinedOrNullOrEmptyOrWhitespace(t)){let r="line undefined / null / empty string / whitespace in TextureCoordinate.SetFromFileLine(line: string, delimeter: string): string";throw console.error(r),new Error(r)}{let r=null;if(r=f.isUndefinedOrNullOrEmptyOrWhitespace(e)?t.split(/(\s+)/):t.split(e),r=r.filter(i=>!f.isUndefinedOrNullOrEmptyOrWhitespace(i)&&f.isNumeric(i)),r.length<2){let i="error in Vector2D.SetFromFileLine(line: string, delimeter: string): string - could not parse face indicies into texture u,v coordinates";throw console.error(i),new Error(i)}if(this.x=parseFloat(r[0]),Math.abs(this.x)<s&&(this.x=0),this.y=parseFloat(r[1]),Math.abs(this.y)<s&&(this.y=0),r.length>2)for(let i=2;i<r.length;i++)n=n+r[i]+e}return n}}class d{constructor(t,e,s,n){null!=t&&null!=s&&null!=e&&null!=n&&this.setValues(t,e,s,n)}static Standard(){return new d(-10,10,-10,10)}setValues(t,e,s,n){null==this.min&&(this.min=new a),this.min.x=t,this.min.y=s,null==this.max&&(this.max=new a),this.max.x=e,this.max.y=n}xRange(){return this.max.x-this.min.x}yRange(){return this.max.y-this.min.y}hasData(){return null!=this.max&&null!=this.min&&(0!=this.max.x||0!=this.min.x||0!=this.max.y||0!=this.min.y)}}class D{constructor(){this.Tolerance=1e-8}}class h extends D{constructor(t,e){if(super(),null!=t&&null!=e){this.Data=new Array(t);for(let s=0;s<t;s++)this.Data[s]=new Array(e)}}getNumberOfRows(){return this.Data.length}getNumberOfColumns(){return this.Data[0].length}setZeros(){for(let t=0;t<this.getNumberOfRows();t++)for(let e=0;e<this.getNumberOfColumns();e++)this.Data[t][e]=0}setIdentity(){for(let t=0;t<this.getNumberOfRows();t++)for(let e=0;e<this.getNumberOfColumns();e++)this.Data[t][e]=t===e?1:0}set(t){if(typeof t>"u")throw new Error("Exception in GeneralMatrix.Set: array2d is undefined");if(null==t)throw new Error("Exception in GeneralMatrix.Set: array2d is null");if(this.getNumberOfRows()>t.length)throw new Error("Exception in GeneralMatrix.Set: this matrix has more rows than the array");if(this.getNumberOfColumns()>t[0].length)throw new Error("Exception in GeneralMatrix.Set: this matrix has more rows than the array");for(let e=0;e<this.getNumberOfRows();e++)for(let s=0;s<this.getNumberOfColumns();s++)this.Data[e][s]=t[e][s]}multiplyBy(t){if(this.getNumberOfColumns()!==t.getNumberOfRows())throw new Error("Matrix Row Column mismatch.  Cannot multiply");{const e=new h(this.getNumberOfRows(),t.getNumberOfColumns());let s;for(let n=0;n<this.getNumberOfRows();n++)for(let r=0;r<t.getNumberOfColumns();r++){s=0;for(let i=0;i<t.getNumberOfRows();i++)s+=this.Data[n][i]*t.Data[i][r];e.Data[n][r]=s}return e}}clone(){const t=new h(this.getNumberOfRows(),this.getNumberOfColumns());for(let e=0;e<this.getNumberOfRows();e++)for(let s=0;s<this.getNumberOfColumns();s++)t.Data[e][s]=this.Data[e][s];return t}equals(t){if(typeof t>"u")return!1;if(null==t)return!1;if(t instanceof h){const e=t;if(typeof this.Data>"u"&&typeof e.Data<"u"||typeof this.Data<"u"&&typeof e.Data>"u")return!1;if(typeof this.Data>"u"&&typeof e.Data>"u")return!0;if(null===this.Data&&null!==e.Data||null!==this.Data&&null===e.Data)return!1;if(null===this.Data&&null===e.Data)return!0;if(this.Data.length!==e.Data.length)return!1;for(let s=0;s<this.Data.length;s++){if(this.Data[s].length!==e.Data[s].length)return!1;{let n;for(let r=0;r<this.Data[s].length;r++)if(n=Math.abs(this.Data[s][r]-e.Data[s][r]),n>this.Tolerance)return!1}}return!0}return!1}}class u extends h{constructor(t){null==t?super(2,2):(super(),this.Data=t)}transform(t){const e=new a(0,0);return e.x=this.Data[0][0]*t.x+this.Data[0][1]*t.y,e.y=this.Data[1][0]*t.x+this.Data[1][1]*t.y,e}determinate(){return this.Data[0][0]*this.Data[1][1]-this.Data[0][1]*this.Data[1][0]}cramerSolve(t){const e=this.determinate();return new a((this.Data[1][1]*t.x-this.Data[0][1]*t.y)/e,(this.Data[0][0]*t.y-this.Data[1][0]*t.x)/e)}clone(){const t=new u;return t.Data[0][0]=this.Data[0][0],t.Data[0][1]=this.Data[0][1],t.Data[1][0]=this.Data[1][0],t.Data[1][1]=this.Data[1][1],t}}addEventListener("message",({data:o})=>{console.log("worker received message: "+o)});const y=new d(-2.1818,3.76,0,10);postMessage(JSON.stringify({range:y}));const w=new u([[0,0],[0,.16]]),x=new u([[.85,.04],[-.04,.85]]),p=new a(0,1.6),O=new u([[.2,-.26],[.23,.22]]),N=new a(0,1.6),b=new u([[-.15,.28],[.26,.24]]),S=new a(0,.44);let m=0,l=new a(0,0),g=0;for(;g<3e4;)m<.01?l=w.transform(l):m<.86?(l=x.transform(l),l.add(p)):m<.93?(l=O.transform(l),l.add(N)):(l=b.transform(l),l.add(S)),g++,m=Math.random(),postMessage(JSON.stringify({dot:l}));postMessage(JSON.stringify({finished:!0}))})();